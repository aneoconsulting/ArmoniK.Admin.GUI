<section>
  <ui-page-header>
    <ng-container subtitle>
      <a [routerLink]="['/admin', 'dashboard']">{{
        'navigation.applications' | translate
      }}</a>
    </ng-container>
  </ui-page-header>
  <ui-page-header>
    <ng-container subtitle>
      <a
        [routerLink]="[
          '/admin',
          'applications',
          applicationName,
          applicationVersion,
          'sessions'
        ]"
        >{{ 'navigation.sessions' | translate }} </a
      >&nbsp;-&nbsp;
      <span>{{ applicationName }} - {{ applicationVersion }}</span>
    </ng-container>
    {{ sessionId }}
  </ui-page-header>

  <h2>{{ 'pages.sessions.session-detail.title' | translate }}</h2>

  <div class="session-detail clr-row">
    <div class="clr-row-12 clr-row-md-6 clr-row-lg-4">
      <label>{{ 'pages.sessions.session-detail.created_at' | translate }}</label
      >&nbsp;
      <span class="font-bold">{{
        session?.CreationDate | date: 'medium'
      }}</span>
    </div>
  </div>

  <clr-accordion>
    <clr-accordion-panel>
      <clr-accordion-title>{{
        'pages.sessions.session-detail.see-more' | translate
      }}</clr-accordion-title>
      <clr-accordion-content *clrIfExpanded>
        <pre>{{ session | json }}</pre>
      </clr-accordion-content>
    </clr-accordion-panel>
  </clr-accordion>

  <h2>{{ 'pages.sessions.session-detail.table.title' | translate }}</h2>

  <app-alert-error [errors]="errors"></app-alert-error>

  <app-pages-sessions-tasks-list
    [tasks]="tasks"
    [loading]="loadingTasks"
    [(selection)]="selectedTasks"
    [cancelButtonState]="cancelTasksButtonState"
    (cancelTasksChange)="onCancelTasks()"
    (refresh)="onTasksRefresh($event)"
    (manualRefresh)="onManualTasksRefresh()"
  ></app-pages-sessions-tasks-list>
</section>
